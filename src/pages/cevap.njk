---
layout: base.njk
title: Arama Sonuçları
permalink: /cevap/index.html
---

<section class="search-results-section" style="padding: 20px;">
  <h1>Arama Sonuçları</h1>
  <p>Aranan kelime: <strong id="search-query"></strong></p>
  <div id="results-container">
    <p>Sonuçlar yükleniyor...</p>
  </div>
</section>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const urlParams = new URLSearchParams(window.location.search);
    const query = urlParams.get('q');
    const resultsContainer = document.getElementById('results-container');
    const queryDisplay = document.getElementById('search-query');

    if (query) {
      queryDisplay.textContent = query;
      // XML dosyasını kök dizinden çek
      fetch('/search-data.xml')
        .then(response => {
          if (!response.ok) {
            throw new Error('XML dosyası yüklenemedi: ' + response.statusText);
          }
          return response.text();
        })
        .then(str => new window.DOMParser().parseFromString(str, "text/xml"))
        .then(data => {
          const items = data.querySelectorAll('item');
          let results = [];
          
          items.forEach(item => {
            const titleElement = item.querySelector('title');
            const urlElement = item.querySelector('url');
            const keywordsElement = item.querySelector('keywords');
            
            if (titleElement && urlElement && keywordsElement) {
              const title = titleElement.textContent;
              const url = urlElement.textContent;
              const keywords = keywordsElement.textContent.toLowerCase();
              
              if (title.toLowerCase().includes(query.toLowerCase()) || keywords.includes(query.toLowerCase())) {
                results.push(`<div class="search-result-item" style="padding: 10px; border-bottom: 1px solid #eee;"><a href="${url}" style="color: #00796b; text-decoration: none; font-weight: bold;">${title}</a></div>`);
              }
            }
          });

          if (results.length > 0) {
            resultsContainer.innerHTML = results.join('');
          } else {
            resultsContainer.innerHTML = '<p>Sonuç bulunamadı.</p>';
          }
        })
        .catch(err => {
          resultsContainer.innerHTML = '<p>Arama sonuçları yüklenirken hata oluştu.</p>';
          console.error(err);
        });
    } else {
      resultsContainer.innerHTML = '<p>Arama sorgusu bulunamadı.</p>';
    }
  });
</script>